# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

# extends:
#   template: simple-template.yml
#   parameters:
#     yesNo: true

# trigger:
#   branches:
#     include:
#       - master
#       - release/*

# pool:
#   vmImage: ubuntu-latest
  
# steps:
#   - template: simple-template.yml



# jobs:
# - job: myAJob
#   pool:
#     vmImage: ubuntu-latest
  
#   steps:
#     - bash: echo "hello A"

# - job: myBJob
#   pool:
#     vmImage: ubuntu-latest
  
#   steps:
#     - bash: echo "hello B"



# stages:
# - stage: stageA
#   jobs:
#     - job: jobA
#       steps:
#         -  script: echo "stageA jobA"
#     - job: jobB
#       steps:
#         - script: echo "stageA jobB"

# - stage: stageB
#   jobs:
#     - job: jobA
#       steps:
#         - script: echo "stageB jobA"
#     - job: jobB
#       steps:
#         - script: echo "stageB jobB"



# jobs:
#   - job: Debug
#     steps:
#       - script: echo hello from the debug build
#   - job: Release
#     dependsOn: Debug
#     steps:
#       - script: echo hello from the release build



# stages:
# - stage: stageA
#   jobs:
#     - job: InitialA
#       steps:
#         -  script: echo "stageA InitialA"
#     - job: InitialB
#       steps:
#         - script: echo "stageA InitialB"

# - stage: stageB
#   jobs:
#     - job: Subsequent
#       dependsOn:
#         - InitialA
#         - InitialB
#       steps:
#         - script: echo "stageB Subsequent"



# jobs:
# - job: A
#   steps:
#   - script: echo hello

# - job: B
#   dependsOn: A
#   condition: and(succeeded(), eq(variables['build.sourceBranch'], 'master'))
#   steps:
#   - script: echo this only runs for master



variables:
  mySimpleVar: simple var value
  "my.dotted.var": dotted var value
  "my var with spaces": var with spaces value

steps:
- script: echo Input macro = $(mySimpleVar). Env var = %MYSIMPLEVAR%
  condition: eq(variables['agent.os'], 'Windows_NT')
- script: echo Input macro = $(mySimpleVar). Env var = $MYSIMPLEVAR
  condition: in(variables['agent.os'], 'Darwin', 'Linux')
- bash: echo Input macro = $(my.dotted.var). Env var = $MY_DOTTED_VAR
- powershell: Write-Host "Input macro = $(my var with spaces). Env var = $env:MY_VAR_WITH_SPACES"